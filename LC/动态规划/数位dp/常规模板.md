##### 数位DP模板

```cpp
class Solution {
public:
    int m;
    vector<vector<int> > f;
    string s;
    int countSpecialNumbers(int n) {
        s = to_string(n);
        m = s.size();
        f.assign(m, vector<int>(1 << 10, -1));
        return dfs(0, 0, true, false);
    }

    // i : 表示当前遍历的位数
    // mask: 表示当前已经遍历的状态，即高位出现的数字集合
    // is_limit: 当前位i是否被限制。若is_limit = true, 则当前位最大取值为s[i]; 若is_limit=false, 则当前位最大取值为9
    // is_num: 当前位i前面(高位)是否填了数字（能否跳过）
    int dfs(int i, int mask, int is_limit, int is_num) {
        if (i == m) return is_num;
        if (f[i][mask] >= 0) return f[i][mask];
        
        int res = 0;
        // 若前面全部为 0, 可以跳过当前位（即 将当前位置为0）
        if (!is_num) {
            res = dfs(i + 1, mask, false, false);
        }
        // 设置当前位上限
        int up = is_limit ? s[i] - '0' : 9;

        for (int j = is_num ? 0 : 1; j <= up; j++) {
            if ((mask >> j & 1) == 0) {
                res += dfs(i + 1, mask | (1 << j), is_limit && j == up, true);
            }
        }
        return f[i][mask] = res;
        // return res;
    }
};
```
