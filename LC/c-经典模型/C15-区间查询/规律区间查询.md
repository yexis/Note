### Title 规律区间查询

##### 1 emphasis

- 规律区间查询
- 有规律的区间查询



##### 2 key points

 一般适用于找规律的题目，比如通过分析题目发现，数据是一段一段出现，且题目为询问区间总和

比如对于一段区间元素按以下规律分布

```cpp
[1,3]    			1
[4,15]   			2
[16, 63] 			3
[64, 255] 		4
[256, 1023] 	5
...
  
询问对于区间[l,r]中的元素和为多少？
```

###### 方法一 二分确定区间



###### 方法二 前缀和的思想

很明显，对于区间$[l,r]$的和，即等于$f[r] - f[l - 1]$，其中$f[x]$表示区间$[1,x]$的元素和



###### 方法三 线段树

由于区间范围可能非常大，达到$10^9$，常规的线段树肯定是不行的，需要对区间进行缩点



##### 3 thought



##### 4 code



##### 5 summary

